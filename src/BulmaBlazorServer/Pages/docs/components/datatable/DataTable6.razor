@inject BulmaRazorJsInterop JsInterop
<DataTable Data="data" TItem="Person" IsNarrow IsHoverable
           IsBordered IsStriped IsFullwidth IsSelectable OnSelected="SelectedHandle">
    <DataTableColumn TItem="Person" Label="Id" Prop="Id"/>
    <DataTableColumn TItem="Person" Label="名称" Prop="Name"/>
    <DataTableColumn TItem="Person" Label="年龄" Prop="Age"/>
    <DataTableColumn TItem="Person" Label="性别" Prop="Gender"/>
    <DataTableColumn TItem="Person" Label="生日" Format="yyyy-MM-dd HH:mm" Prop="Birthday"/>
</DataTable>
<Pagination TotalCount="@totalCount" PageIndex="pageIndex" PageSize="pageSize" OnPageChange="onPage"
            NextText="下一页" PrevText="上一页" IsCentered IsSmall/>

@code{
    int pageIndex = 1;
    int pageSize = 5;
    int totalCount = 0;
    IEnumerable<Person> data;
    //分页
    void onPage(int page)
    {
        pageIndex = page;
        searchData();
    }

    //查询后台数据
    void searchData()
    {
        data = Person.GetPageData("", pageIndex, pageSize, out int total);
        totalCount = total;
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        searchData();
    }

    async Task SelectedHandle(DataTableRow<Person> row)
    {
        await JsInterop.Alert("选中行ID:" + row.Item.Id);
    }

}